(function(e){e.fn.progressTimer=function(a){var t=e.extend({},e.fn.progressTimer.defaults,a);return this.each(function(){var a=e(this);a.empty();var r=e("<div>").addClass("progress"),s=e("<div>").addClass("progress-bar").addClass(t.baseStyle).attr("role","progressbar").attr("aria-valuenow","0").attr("aria-valuemin","0").attr("aria-valuemax",t.timeLimit);s.appendTo(r),r.appendTo(e(this));var i;i=0===t.start?new Date:t.start;var l=1e3*t.timeLimit,n=window.setInterval(function(){t.allTheTime.call(this,t),l=1e3*t.timeLimit;var r=new Date-i;a.children().hasClass("progress")||window.clearInterval(n),l-r<=5e3&&s.removeClass(t.baseStyle).removeClass(t.completeStyle).addClass(t.warningStyle),r>=l&&parseFloat(e(s)[0].style.width)>=t.extra&&(window.clearInterval(n),s.removeClass(t.baseStyle).removeClass(t.warningStyle).addClass(t.completeStyle),t.onFinish.call(this)),s.width(r/l*100+"%"),t.eachIteration.call(this,r)},250)}),this},e.fn.progressTimer.defaults={timeLimit:60,start:0,extra:100,warningThreshold:5,eachIteration:function(e){},allTheTime:function(e){},onFinish:function(){},baseStyle:"",warningStyle:"progress-bar-danger",completeStyle:"progress-bar-success"}})(jQuery);